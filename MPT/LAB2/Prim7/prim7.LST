A51 MACRO ASSEMBLER  PRIM7                                                                05/23/2020 17:25:21 PAGE     1


MACRO ASSEMBLER A51 V8.2.7.0
OBJECT MODULE PLACED IN prim7.OBJ
ASSEMBLER INVOKED BY: D:\Program Files\Keil_v5\C51\BIN\A51.EXE prim7.a NOMOD51 SET(SMALL) DEBUG EP

LOC  OBJ            LINE     SOURCE

                       1     ;#include <ADuC812.inc>
                +1     2     ;---------------------------------------------
                +1     3     ; ADuC812.inc
                +1     4     ; ADuC812 processor declarations
                +1     5     ; reference tech note - uC002
                +1     6     ; "Writing an ADuC812 Application in C"
                +1     7     ; available at www.analog.com/microconverter
                +1     8     ; rev 1.4 - 14 April 1998
                +1     9     ;---------------------------------------------
                +1    10  +1 $save 
                +1   175  +1 $restore 
                     176     
----                 177             CSEG AT 0h
0000 020075          178             LJMP main
----                 179             CSEG AT 0Bh
000B 02000E          180             LJMP clock
                     181             
000E                 182     clock:
000E C28D            183             CLR TF0
0010 758CCF          184             MOV TH0,#HIGH(53035)
0013 758A2B          185             MOV TL0,#LOW(53035)
0016 0A              186             INC R2
0017 208005          187             JB P0.0,Hz4
001A BA0A55          188             CJNE R2,#10,stop
001D 800B            189             JMP tut
001F                 190             Hz4:
001F 208105          191             JB P0.1,Hz2
0022 BA144D          192             CJNE R2,#20,stop
0025 8003            193             JMP tut
0027                 194             Hz2:
0027 BA2848          195             CJNE R2,#40,stop
002A                 196             tut:
002A E5B0            197             MOV A,P3
002C BC0043          198             CJNE R4,#00000000b,stop
002F 801F            199             JMP napravlenie
0031                 200             vlevo:
0031 23              201             RL A
                     202             
0032 20820E          203             JB P0.2,L_plus_led
0035 BF0003          204             CJNE R7,#0,L_plus_led_1
0038 BE000F          205             CJNE R6,#0,L_non_plus_led
003B                 206             L_plus_led_1:
003B 45B0            207             ORL A,P3
003D 7E01            208             MOV R6,#1
003F 7F00            209             MOV R7,#0
0041 8007            210             JMP L_non_plus_led
0043                 211             L_plus_led:
0043 BE0104          212             CJNE R6,#1,L_non_plus_led
0046 55B0            213             ANL A,P3
0048 7E00            214             MOV R6,#0
004A                 215             L_non_plus_led:
                     216     
004A F9              217             MOV R1,A
004B F5B0            218             MOV P3,A
004D 7A00            219             MOV R2,#0
004F 32              220             RETI
0050                 221             napravlenie:
0050 BBFFDE          222             CJNE R3,#11111111b,vlevo
A51 MACRO ASSEMBLER  PRIM7                                                                05/23/2020 17:25:21 PAGE     2

0053 03              223             RR A
                     224             
0054 20820E          225             JB P0.2,R_plus_led
0057 BF0003          226             CJNE R7,#0,R_plus_led_1
005A BE000F          227             CJNE R6,#0,R_non_plus_led
005D                 228             R_plus_led_1:
005D 45B0            229             ORL A,P3
005F 7E01            230             MOV R6,#1
0061 7F00            231             MOV R7,#0
0063 8007            232             JMP R_non_plus_led
0065                 233             R_plus_led:
0065 BE0104          234             CJNE R6,#1,R_non_plus_led
0068 55B0            235             ANL A,P3
006A 7E00            236             MOV R6,#0
006C                 237             R_non_plus_led:
                     238             
006C F9              239             MOV R1,A
006D F5B0            240             MOV P3,A
006F 7A00            241             MOV R2,#0
0071 32              242             RETI
0072                 243     stop:
0072 7D00            244             MOV R5,#0
0074 32              245             RETI
                     246     ;...........................................................................
0075                 247     main:
0075 7900            248             MOV R1,#0
0077 7A00            249             MOV R2,#0
0079 7B00            250             MOV R3,#0
007B 7C00            251             MOV R4,#0
007D 7E00            252             MOV R6,#0
007F 7F00            253             MOV R7,#0
0081                 254     loop:
0081 89B0            255             MOV P3,R1
0083 758CCF          256             MOV TH0,#HIGH(53035) 
0086 758A2B          257             MOV TL0,#LOW(53035) 
0089 758901          258             MOV TMOD,#1h
                     259              
008C D2A9            260             SETB ET0
008E D2AF            261             SETB EA
0090 D28C            262             SETB TCON.4
                     263     ;...........................................................................    
0092                 264     keyboard:
0092 74FE            265             MOV A,#11111110b
0094 F5A0            266             MOV P2,A
0096 E5A0            267             MOV A,P2
0098 B4FE1D          268             CJNE A,#11111110b,piu1
                     269             
009B 74FD            270             MOV A,#11111101b
009D F5A0            271             MOV P2,A
009F E5A0            272             MOV A,P2
00A1 B4FD37          273             CJNE A,#11111101b,piu4
                     274             
00A4 74FB            275             MOV A,#11111011b
00A6 F5A0            276             MOV P2,A
00A8 E5A0            277             MOV A,P2
00AA B4FB51          278             CJNE A,#11111011b,piu7
                     279             
00AD 74F7            280             MOV A,#11110111b
00AF F5A0            281             MOV P2,A
00B1 E5A0            282             MOV A,P2
00B3 B4F76B          283             CJNE A,#11110111b,piu0
                     284             
00B6 80DA            285             JMP keyboard
                     286             
00B8                 287     piu1:
00B8 7F01            288             MOV R7,#1
A51 MACRO ASSEMBLER  PRIM7                                                                05/23/2020 17:25:21 PAGE     3

00BA B4EE08          289             CJNE A,#11101110b,piu2
00BD BD0005          290             CJNE R5,#0,piu2
00C0 0D              291             INC R5
00C1 7901            292             MOV R1,#00000001b
00C3 80BC            293             JMP loop
00C5                 294     piu2:
00C5 B4DE08          295             CJNE A,#11011110b,piu3
00C8 BD0005          296             CJNE R5,#0,piu3
00CB 0D              297             INC R5
00CC 7903            298             MOV R1,#00000011b
00CE 80B1            299             JMP loop
                     300             
00D0                 301     piu3:
00D0 B4BEAE          302             CJNE A,#10111110b,loop
00D3 BD00AB          303             CJNE R5,#0,loop
00D6 0D              304             INC R5
00D7 7907            305             MOV R1,#00000111b
00D9 80A6            306             JMP loop
                     307             
00DB                 308     piu4:
00DB 7F01            309             MOV R7,#1
00DD B4ED08          310             CJNE A,#11101101b,piu5
00E0 BD0005          311             CJNE R5,#0,piu5
00E3 0D              312             INC R5
00E4 790F            313             MOV R1,#00001111b       
00E6 8099            314             JMP loop
                     315             
00E8                 316     piu5:
00E8 B4DD08          317             CJNE A,#11011101b,piu6
00EB BD0005          318             CJNE R5,#0,piu6
00EE 0D              319             INC R5
00EF 791F            320             MOV R1,#00011111b
00F1 808E            321             JMP loop
                     322     
00F3                 323     piu6:
00F3 B4BD06          324             CJNE A,#10111101b,piu6_end
00F6 BD0003          325             CJNE R5,#0,piu6_end
00F9 0D              326             INC R5
00FA 793F            327             MOV R1,#00111111b
00FC                 328             piu6_end:
00FC 8083            329             JMP loop
                     330             
00FE                 331     piu7:
00FE 7F01            332             MOV R7,#1
0100 B4EB08          333             CJNE A,#11101011b,piu8
0103 BD0005          334             CJNE R5,#0,piu8
0106 0D              335             INC R5
0107 797F            336             MOV R1,#01111111b
0109 0181            337             JMP loop
                     338     
010B                 339     piu8:
010B B4DB08          340             CJNE A,#11011011b,piu9
010E BD0005          341             CJNE R5,#0,piu9
0111 0D              342             INC R5
0112 79FF            343             MOV R1,#11111111b
0114 0181            344             JMP loop
                     345             
0116                 346     piu9:
0116 B4BB06          347             CJNE A,#10111011b,piu9_end
0119 BD0003          348             CJNE R5,#0,piu9_end
011C 0D              349             INC R5
011D 79FF            350             MOV R1,#11111111b
011F                 351             piu9_end:
011F 0181            352             JMP loop
                     353             
0121                 354     piu0:
A51 MACRO ASSEMBLER  PRIM7                                                                05/23/2020 17:25:21 PAGE     4

0121 B4D708          355             CJNE A,#11010111b,zvezda
0124 BD0005          356             CJNE R5,#0,zvezda
0127 0D              357             INC R5
0128 7900            358             MOV R1,#0b
012A 0181            359             JMP loop
                     360     
012C                 361     zvezda:
012C B4E70A          362             CJNE A,#11100111b,reshotka
012F BD0007          363             CJNE R5,#0,reshotka
0132 0D              364             INC R5
0133 EB              365             MOV A,R3
0134 F4              366             CPL A
0135 FB              367             MOV R3,A
0136 E4              368             CLR A
0137 0181            369             JMP loop
                     370             
0139                 371     reshotka:
0139 B4B708          372             CJNE A,#10110111b,reshotka_end
013C BD0005          373             CJNE R5,#0,reshotka_end
013F 0D              374             INC R5
0140 EC              375             MOV A,R4
0141 F4              376             CPL A
0142 FC              377             MOV R4,A
0143 E4              378             CLR A
0144                 379             reshotka_end:
0144 0181            380             JMP loop
                     381             
0146 80FE            382             SJMP $
                     383                     
                     384     END
                             ;...........................................................................
A51 MACRO ASSEMBLER  PRIM7                                                                05/23/2020 17:25:21 PAGE     5

SYMBOL TABLE LISTING
------ ----- -------


N A M E             T Y P E  V A L U E   ATTRIBUTES

AC . . . . . . . .  B ADDR   00D0H.6 A   
ACC. . . . . . . .  D ADDR   00E0H   A   
ADCCON1. . . . . .  D ADDR   00EFH   A   
ADCCON2. . . . . .  D ADDR   00D8H   A   
ADCCON3. . . . . .  D ADDR   00F5H   A   
ADCDATAH . . . . .  D ADDR   00DAH   A   
ADCDATAL . . . . .  D ADDR   00D9H   A   
ADCGAINH . . . . .  D ADDR   00F4H   A   
ADCGAINL . . . . .  D ADDR   00F3H   A   
ADCI . . . . . . .  B ADDR   00D8H.7 A   
ADCOFSH. . . . . .  D ADDR   00F2H   A   
ADCOFSL. . . . . .  D ADDR   00F1H   A   
B. . . . . . . . .  D ADDR   00F0H   A   
CAP2 . . . . . . .  B ADDR   00C8H.0 A   
CCONV. . . . . . .  B ADDR   00D8H.5 A   
CLOCK. . . . . . .  C ADDR   000EH   A   
CNT2 . . . . . . .  B ADDR   00C8H.1 A   
CPHA . . . . . . .  B ADDR   00F8H.2 A   
CPOL . . . . . . .  B ADDR   00F8H.3 A   
CS0. . . . . . . .  B ADDR   00D8H.0 A   
CS1. . . . . . . .  B ADDR   00D8H.1 A   
CS2. . . . . . . .  B ADDR   00D8H.2 A   
CS3. . . . . . . .  B ADDR   00D8H.3 A   
CY . . . . . . . .  B ADDR   00D0H.7 A   
DAC0H. . . . . . .  D ADDR   00FAH   A   
DAC0L. . . . . . .  D ADDR   00F9H   A   
DAC1H. . . . . . .  D ADDR   00FCH   A   
DAC1L. . . . . . .  D ADDR   00FBH   A   
DACCON . . . . . .  D ADDR   00FDH   A   
DMA. . . . . . . .  B ADDR   00D8H.6 A   
DMAH . . . . . . .  D ADDR   00D3H   A   
DMAL . . . . . . .  D ADDR   00D2H   A   
DMAP . . . . . . .  D ADDR   00D4H   A   
DPH. . . . . . . .  D ADDR   0083H   A   
DPL. . . . . . . .  D ADDR   0082H   A   
DPP. . . . . . . .  D ADDR   0084H   A   
EA . . . . . . . .  B ADDR   00A8H.7 A   
EADC . . . . . . .  B ADDR   00A8H.6 A   
EADRL. . . . . . .  D ADDR   00C6H   A   
ECON . . . . . . .  D ADDR   00B9H   A   
EDATA1 . . . . . .  D ADDR   00BCH   A   
EDATA2 . . . . . .  D ADDR   00BDH   A   
EDATA3 . . . . . .  D ADDR   00BEH   A   
EDATA4 . . . . . .  D ADDR   00BFH   A   
ES . . . . . . . .  B ADDR   00A8H.4 A   
ET0. . . . . . . .  B ADDR   00A8H.1 A   
ET1. . . . . . . .  B ADDR   00A8H.3 A   
ET2. . . . . . . .  B ADDR   00A8H.5 A   
EX0. . . . . . . .  B ADDR   00A8H.0 A   
EX1. . . . . . . .  B ADDR   00A8H.2 A   
EXF2 . . . . . . .  B ADDR   00C8H.6 A   
F0 . . . . . . . .  B ADDR   00D0H.5 A   
F1 . . . . . . . .  B ADDR   00D0H.1 A   
HZ2. . . . . . . .  C ADDR   0027H   A   
HZ4. . . . . . . .  C ADDR   001FH   A   
I2CADD . . . . . .  D ADDR   009BH   A   
I2CCON . . . . . .  D ADDR   00E8H   A   
I2CDAT . . . . . .  D ADDR   009AH   A   
I2CI . . . . . . .  B ADDR   00E8H.0 A   
I2CM . . . . . . .  B ADDR   00E8H.3 A   
A51 MACRO ASSEMBLER  PRIM7                                                                05/23/2020 17:25:21 PAGE     6

I2CRS. . . . . . .  B ADDR   00E8H.2 A   
I2CTX. . . . . . .  B ADDR   00E8H.1 A   
IE . . . . . . . .  D ADDR   00A8H   A   
IE0. . . . . . . .  B ADDR   0088H.1 A   
IE1. . . . . . . .  B ADDR   0088H.3 A   
IE2. . . . . . . .  D ADDR   00A9H   A   
INT0 . . . . . . .  B ADDR   00B0H.2 A   
INT1 . . . . . . .  B ADDR   00B0H.3 A   
IP . . . . . . . .  D ADDR   00B8H   A   
ISPI . . . . . . .  B ADDR   00F8H.7 A   
IT0. . . . . . . .  B ADDR   0088H.0 A   
IT1. . . . . . . .  B ADDR   0088H.2 A   
KEYBOARD . . . . .  C ADDR   0092H   A   
LOOP . . . . . . .  C ADDR   0081H   A   
L_NON_PLUS_LED . .  C ADDR   004AH   A   
L_PLUS_LED . . . .  C ADDR   0043H   A   
L_PLUS_LED_1 . . .  C ADDR   003BH   A   
MAIN . . . . . . .  C ADDR   0075H   A   
MCO. . . . . . . .  B ADDR   00E8H.5 A   
MDE. . . . . . . .  B ADDR   00E8H.6 A   
MDI. . . . . . . .  B ADDR   00E8H.4 A   
MDO. . . . . . . .  B ADDR   00E8H.7 A   
NAPRAVLENIE. . . .  C ADDR   0050H   A   
OV . . . . . . . .  B ADDR   00D0H.2 A   
P. . . . . . . . .  B ADDR   00D0H.0 A   
P0 . . . . . . . .  D ADDR   0080H   A   
P1 . . . . . . . .  D ADDR   0090H   A   
P2 . . . . . . . .  D ADDR   00A0H   A   
P3 . . . . . . . .  D ADDR   00B0H   A   
PADC . . . . . . .  B ADDR   00B8H.6 A   
PCON . . . . . . .  D ADDR   0087H   A   
PIU0 . . . . . . .  C ADDR   0121H   A   
PIU1 . . . . . . .  C ADDR   00B8H   A   
PIU2 . . . . . . .  C ADDR   00C5H   A   
PIU3 . . . . . . .  C ADDR   00D0H   A   
PIU4 . . . . . . .  C ADDR   00DBH   A   
PIU5 . . . . . . .  C ADDR   00E8H   A   
PIU6 . . . . . . .  C ADDR   00F3H   A   
PIU6_END . . . . .  C ADDR   00FCH   A   
PIU7 . . . . . . .  C ADDR   00FEH   A   
PIU8 . . . . . . .  C ADDR   010BH   A   
PIU9 . . . . . . .  C ADDR   0116H   A   
PIU9_END . . . . .  C ADDR   011FH   A   
PRE0 . . . . . . .  B ADDR   00C0H.5 A   
PRE1 . . . . . . .  B ADDR   00C0H.6 A   
PRE2 . . . . . . .  B ADDR   00C0H.7 A   
PS . . . . . . . .  B ADDR   00B8H.4 A   
PSI. . . . . . . .  B ADDR   00B8H.7 A   
PSMCON . . . . . .  D ADDR   00DFH   A   
PSW. . . . . . . .  D ADDR   00D0H   A   
PT0. . . . . . . .  B ADDR   00B8H.1 A   
PT1. . . . . . . .  B ADDR   00B8H.3 A   
PT2. . . . . . . .  B ADDR   00B8H.5 A   
PX0. . . . . . . .  B ADDR   00B8H.0 A   
PX1. . . . . . . .  B ADDR   00B8H.2 A   
RB8. . . . . . . .  B ADDR   0098H.2 A   
RCAP2H . . . . . .  D ADDR   00CBH   A   
RCAP2L . . . . . .  D ADDR   00CAH   A   
RCLK . . . . . . .  B ADDR   00C8H.5 A   
RD . . . . . . . .  B ADDR   00B0H.7 A   
REN. . . . . . . .  B ADDR   0098H.4 A   
RESHOTKA . . . . .  C ADDR   0139H   A   
RESHOTKA_END . . .  C ADDR   0144H   A   
RI . . . . . . . .  B ADDR   0098H.0 A   
RS0. . . . . . . .  B ADDR   00D0H.3 A   
RS1. . . . . . . .  B ADDR   00D0H.4 A   
A51 MACRO ASSEMBLER  PRIM7                                                                05/23/2020 17:25:21 PAGE     7

RXD. . . . . . . .  B ADDR   00B0H.0 A   
R_NON_PLUS_LED . .  C ADDR   006CH   A   
R_PLUS_LED . . . .  C ADDR   0065H   A   
R_PLUS_LED_1 . . .  C ADDR   005DH   A   
SBUF . . . . . . .  D ADDR   0099H   A   
SCON . . . . . . .  D ADDR   0098H   A   
SCONV. . . . . . .  B ADDR   00D8H.4 A   
SM0. . . . . . . .  B ADDR   0098H.7 A   
SM1. . . . . . . .  B ADDR   0098H.6 A   
SM2. . . . . . . .  B ADDR   0098H.5 A   
SP . . . . . . . .  D ADDR   0081H   A   
SPE. . . . . . . .  B ADDR   00F8H.5 A   
SPICON . . . . . .  D ADDR   00F8H   A   
SPIDAT . . . . . .  D ADDR   00F7H   A   
SPIM . . . . . . .  B ADDR   00F8H.4 A   
SPR0 . . . . . . .  B ADDR   00F8H.0 A   
SPR1 . . . . . . .  B ADDR   00F8H.1 A   
STOP . . . . . . .  C ADDR   0072H   A   
T0 . . . . . . . .  B ADDR   00B0H.4 A   
T1 . . . . . . . .  B ADDR   00B0H.5 A   
T2 . . . . . . . .  B ADDR   0090H.0 A   
T2CON. . . . . . .  D ADDR   00C8H   A   
T2EX . . . . . . .  B ADDR   0090H.1 A   
TB8. . . . . . . .  B ADDR   0098H.3 A   
TCLK . . . . . . .  B ADDR   00C8H.4 A   
TCON . . . . . . .  D ADDR   0088H   A   
TF0. . . . . . . .  B ADDR   0088H.5 A   
TF1. . . . . . . .  B ADDR   0088H.7 A   
TF2. . . . . . . .  B ADDR   00C8H.7 A   
TH0. . . . . . . .  D ADDR   008CH   A   
TH1. . . . . . . .  D ADDR   008DH   A   
TH2. . . . . . . .  D ADDR   00CDH   A   
TI . . . . . . . .  B ADDR   0098H.1 A   
TL0. . . . . . . .  D ADDR   008AH   A   
TL1. . . . . . . .  D ADDR   008BH   A   
TL2. . . . . . . .  D ADDR   00CCH   A   
TMOD . . . . . . .  D ADDR   0089H   A   
TR0. . . . . . . .  B ADDR   0088H.4 A   
TR1. . . . . . . .  B ADDR   0088H.6 A   
TR2. . . . . . . .  B ADDR   00C8H.2 A   
TUT. . . . . . . .  C ADDR   002AH   A   
TXD. . . . . . . .  B ADDR   00B0H.1 A   
VLEVO. . . . . . .  C ADDR   0031H   A   
WCOL . . . . . . .  B ADDR   00F8H.6 A   
WDCON. . . . . . .  D ADDR   00C0H   A   
WDE. . . . . . . .  B ADDR   00C0H.0 A   
WDR1 . . . . . . .  B ADDR   00C0H.3 A   
WDR2 . . . . . . .  B ADDR   00C0H.2 A   
WDS. . . . . . . .  B ADDR   00C0H.1 A   
WR . . . . . . . .  B ADDR   00B0H.6 A   
XEN. . . . . . . .  B ADDR   00C8H.3 A   
ZVEZDA . . . . . .  C ADDR   012CH   A   


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S)
